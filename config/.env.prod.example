# .env.prod.example - Production Environment Variables
# This file contains the essential settings for running GestureVision in production.
# Copy this to .env.prod and fill in the values.

# --- Required Settings ---
# Docker Image Tag
# The deployment script will usually set this for you.
PROD_IMAGE_NAME=gesturevision:${APP_VERSION:-latest}

# Your server's public URL (e.g., https://gesturevision.mydomain.com)
# REQUIRED: This is used for frontend asset paths and API access.
APP_EXTERNAL_URL=https://gesturevision.mydomain.com

# The Docker network used by your reverse proxy (e.g., Nginx Proxy Manager).
# REQUIRED for the reverse proxy to find the GestureVision container.
NPM_NETWORK_NAME=npm_network

# The publicly accessible IP address of your Docker host machine.
# REQUIRED for RTSP camera streaming to work correctly.
MTX_ICE_HOST=

# --- Optional Port Mappings ---
# These map ports from your host machine to the container.
# Only change these if the default ports conflict with other services on your host.
# Your reverse proxy will typically route to these ports.

# WHEP/WebRTC signaling port (TCP)
MTX_WEBRTC_PORT=8888

# WebRTC ICE port (UDP). Must be open in your firewall.
MTX_ICE_UDP_PORT=8189

# RTMP port (TCP), if you plan to use RTMP ingest.
MTX_RTMP_PORT=1935

# --- Internal Container Ports (Advanced) ---
# It's recommended to keep these at their defaults unless you are an advanced user
# and have a specific reason to change the internal architecture.

# Backend Node.js API service port
BACKEND_API_PORT_INTERNAL=9001

# MediaMTX internal API port
MTX_API_PORT=9997

# MediaMTX internal RTSP listener port
MTX_RTSP_PORT=8554

# MediaMTX internal HLS listener port (leave blank to disable)
MTX_HLS_ADDRESS=
MTX_API=yes
MTX_APIADDRESS_INTERNAL=0.0.0.0:9997
MTX_PROD_HLS_ADDRESS=
MTX_PROD_ICE_UDP_PORT=
MTX_PROD_ICE_UDP_PORT_INTERNAL=8189
MTX_PROD_LOGLEVEL=
MTX_PROD_RTMP_PORT=
MTX_PROD_RTMP_PORT_INTERNAL=
MTX_PROD_RTSP_PORT=
MTX_PROD_RTSP_PORT_INTERNAL=
MTX_PROD_WEBRTC_PORT=
MTX_PROD_WEBRTC_PORT_INTERNAL=8888
